<script defer>
	async function initHystory() {
		if (AuthService.isAuth()) {
			await DashboardService.login()
		} else {
			await DashboardService.signUp()
			await DashboardService.login()
		}

		const array = await DashboardService.fetchRequests()

		if (array.length === 0) {
			document.getElementById('dash-cards-empty').style.display = 'block'
			document.getElementById('results').style.display = 'none'
		} else {
			ElementCreator.fillGridResults('results')
		}
	}

	initHystory()


	if (AuthService.isAuth()) {
			await DashboardService.login()
		} else {
			await DashboardService.signUp()
			await DashboardService.login()
		}
</script>
