<script defer>
	async function initUsagePage() {
		const usage = await DashboardService.fetchUsageApi()

		if (usage.access) {
			ElementCreator.fillApiKeyCard(usage)
		} else {
			const getApiTokenButton = document.getElementById('get-api-token')
			getApiTokenButton.style.display = 'flex'
			getApiTokenButton.onclick = async () => {
				await DashboardService.fetchApiToken()
				initUsagePage()
			}
		}
	}

	initUsagePage()
</script>
