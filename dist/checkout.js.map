{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../node_modules/@stripe/stripe-js/dist/stripe.esm.js", "../src/api/RestClient.ts", "../src/api/Payments.ts", "../src/dashboard/Payments.ts", "../src/checkout.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"2.1.7\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n", "// export const BASE_URL = 'https://api.aiornot.com';\n// export const BASE_URL = 'https://api.ai-or-not.com';\n\nconst env = window.location.host.includes('webflow') ? 'stage' : 'prod';\nexport const BASE_URL = `https://${env}.ai-or-not.com`;\n// export const BASE_URL = 'http://localhost:8000';\n\nexport const BASE_URL_RESULTS = 'https://results.aiornot.com';\n\nexport class RestClient {\n    apiUrl: string;\n    bearerToken: string;\n\n    constructor(apiUrl: string, bearerToken: string) {\n        this.apiUrl = apiUrl;\n        this.bearerToken = bearerToken;\n    }\n\n    async get(endpoint: string): Promise<any> {\n        const url = `${this.apiUrl}/${endpoint}`;\n\n        try {\n            const response = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${this.bearerToken}`,\n                },\n            });\n\n            return await this.handleResponse(response);\n        } catch (error) {\n            // if (error.status === 429) {\n            //     if (error.message.msg.type === 'requests') {\n            //         alert(\n            //             `It looks like you have reached your plan limit of ${error.message.msg.current_limit} requests. To continue, please upgrade to a new plan.`\n            //         );\n            //\n            //         window.location.host = `https://${window.location.host}/#plans`;\n            //     }\n            // }\n            console.error('Error', error);\n            throw error;\n        }\n    }\n\n    async post(endpoint: string, body: any): Promise<any> {\n        const url = `${this.apiUrl}/${endpoint}`;\n\n        try {\n            const response = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${this.bearerToken}`,\n                },\n                body: JSON.stringify(body),\n            });\n\n            return await this.handleResponse(response);\n        } catch (error) {\n            console.error('Request error', error);\n            if (error.status === 429) {\n                if (error.message.msg.type === 'requests') {\n                    alert(\n                        `It looks like you have reached your plan limit of ${error.message.msg.current_limit} requests. To continue, please upgrade to a new plan.`\n                    );\n                }\n            }\n            throw error;\n        }\n    }\n\n    async postBinary(endpoint: string, formData: FormData): Promise<any> {\n        const url = `${this.apiUrl}/${endpoint}`;\n        // console.log('url', url);\n        try {\n            const response = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    Authorization: `Bearer ${this.bearerToken}`,\n                },\n                body: formData,\n            });\n\n            const data = await this.handleResponse(response);\n            return data;\n        } catch (error) {\n            console.error('Binary request error:', error);\n            if (error.status === 429) {\n                if (error.message.msg.type === 'requests') {\n                    alert(\n                        `It looks like you have reached your plan limit of ${error.message.msg.current_limit} requests. To continue, please upgrade to a new plan.`\n                    );\n                }\n            }\n            throw error;\n        }\n    }\n\n    async delete(endpoint: string): Promise<void> {\n        const url = `${this.apiUrl}/${endpoint}`;\n\n        try {\n            const response = await fetch(url, {\n                method: 'DELETE',\n                headers: {\n                    accept: '*/*',\n                    Authorization: `Bearer ${this.bearerToken}`,\n                },\n            });\n\n            await this.handleResponse(response);\n        } catch (error) {\n            console.error('Error when perform DELETE-request:', error);\n            throw error;\n        }\n    }\n\n    async patch(endpoint: string, body: any): Promise<any> {\n        const url = `${this.apiUrl}/${endpoint}`;\n\n        try {\n            const response = await fetch(url, {\n                method: 'PATCH',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${this.bearerToken}`,\n                },\n                body: JSON.stringify(body),\n            });\n\n            return await this.handleResponse(response);\n        } catch (error) {\n            console.error('\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0438 PATCH-\u0437\u0430\u043F\u0440\u043E\u0441\u0430:', error);\n            throw error;\n        }\n    }\n\n    private async handleResponse(response: Response): Promise<any> {\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw { status: response.status, message: errorData };\n        }\n        if (response.status !== 204) {\n            const data = await response.json();\n            return data;\n        }\n    }\n}\n", "import { loadStripe } from '@stripe/stripe-js';\n\nimport { BASE_URL } from '@/api/RestClient';\n\ninterface IProduct {\n    id: string;\n    msg: string;\n    name: string;\n    description: string;\n    price: string;\n    test_id: string;\n}\n\nconst styles = `\n\n@keyframes blink {\n0% { opacity: 1; }\n50% { opacity: 0; }\n100% { opacity: 1; }\n}\n\n.text-blink {\nanimation: blink 1.5s linear infinite;\nfont-size: 18px; \ncolor: #79818a;\nfont-weight: bold; \n}\n\n.loader {\n    display: flex;\n    border: 16px solid #f3f3f3;\n    border-top: 16px solid #adff00;\n    border-bottom: 16px solid #adff00;\n    border-radius: 50%;\n    /*width: 120px;*/\n    /*height: 120px;*/\n    width: 10px;\n    height: 10px;\n    animation: spin 2s linear infinite;\n}\n\n           \n.submit-btn{\nbackground-color: #d9ff8a;\ntransition: all 0.2s ease;\n}\n\n.submit-btn:hover {\n    background-color: #adff00;\n}\n\n.payment-form{\npadding-bottom: 50px;\nfont-family: 'Montserrat', sans-serif;\n}\n\n.payment-form.dark{\nbackground-color: #f6f6f6;\n}\n\n.payment-form .content{\nbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);\nbackground-color: white;\n}\n\n.payment-form .block-heading{\n    padding-top: 50px;\n    margin-bottom: 40px;\n    text-align: center;\n}\n\n.payment-form .block-heading p{\ntext-align: center;\nmax-width: 420px;\nmargin: auto;\nopacity:0.7;\n}\n\n.payment-form.dark .block-heading p{\nopacity:0.8;\n}\n\n.payment-form .block-heading h1,\n.payment-form .block-heading h2,\n.payment-form .block-heading h3 {\nmargin-bottom:1.2rem;\ncolor: black;\n}\n\n.payment-form form{\nborder-top: 2px solid #adff00;\nbox-shadow: 0px 2px 10px rgba(0, 0, 0, 0.075);\nbackground-color: #ffffff;\npadding: 0;\nmax-width: 600px;\nmargin: auto;\n}\n\n.payment-form .title{\nfont-size: 1em;\nborder-bottom: 1px solid rgba(0,0,0,0.1);\nmargin-bottom: 0.8em;\nfont-weight: 600;\npadding-bottom: 8px;\n}\n\n.payment-form .products{\nbackground-color: #f7fbff;\n    padding: 25px;\n}\n\n.payment-form .products .item{\nmargin-bottom:1em;\n}\n\n.payment-form .products .item-name{\nfont-weight:600;\nfont-size: 0.9em;\n}\n\n.payment-form .products .item-description{\nfont-size:0.8em;\nopacity:0.6;\n}\n\n.payment-form .products .price-description{\nfont-size:0.8em;\nopacity:0.6;\nfloat: right;\n}\n\n.payment-form .products .item p{\nmargin-bottom:0.2em;\n}\n\n.payment-form .products .price{\nfloat: right;\nfont-weight: 600;\nfont-size: 0.9em;\n}\n\n.payment-form .products .total{\nborder-top: 1px solid rgba(0, 0, 0, 0.1);\nmargin-top: 10px;\npadding-top: 19px;\nfont-weight: 600;\nline-height: 1;\n}\n\n.payment-form .card-details{\npadding: 25px 25px 15px;\n}\n\n.payment-form .card-details label{\nfont-size: 12px;\nfont-weight: 600;\nmargin-bottom: 15px;\ncolor: #79818a;\ntext-transform: uppercase;\n}\n\n.payment-form .card-details button{\nmargin-top: 0.6em;\npadding:12px 0;\nfont-weight: 600;\n}\n\n.payment-form .date-separator{\n margin-left: 10px;\n    margin-right: 10px;\n    margin-top: 5px;\n}\n\n@media (min-width: 576px) {\n    .payment-form .title {\n    font-size: 1.2em;\n    }\n    \n    .payment-form .products {\n    padding: 40px;\n      }\n    \n    .payment-form .products .item-name {\n    font-size: 1em;\n    }\n\n    .payment-form .products .price {\n        font-size: 1em;\n    }\n\n  .payment-form .card-details {\n    padding: 40px 40px 30px;\n    }\n\n  .payment-form .card-details button {\n    margin-top: 2em;\n    }\n\n}\n            \n            `;\n\nexport class PaymentsClient {\n    private elements: any = null;\n    private stripe: any = null;\n    private home_element = document.querySelector('#home') as Element;\n\n    public PRODUCT_ID_BASE_PLAN = {\n        id: 'price_1O2Ba4Ba9yG4sk8k4y3ZnEVT',\n        msg: 'Base plan: $30/month',\n        name: 'Base plan',\n        description: '1,000 requests per month',\n        price: '$30',\n        test_id: 'price_1O1wSsBa9yG4sk8kej8shNYs',\n    } as IProduct;\n    public PRODUCT_ID_PRO_PLAN = {\n        id: 'price_1O2Ku4Ba9yG4sk8kIQBdzpPj',\n        msg: 'Pro plan: $250/month',\n        name: 'Pro plan',\n        description: '10,000 requests per month',\n        price: '$250',\n        test_id: 'price_1O1wTVBa9yG4sk8kQSPeT9rp',\n        // test_id: 'price_1O4iyjBa9yG4sk8k1wRbFjxk',\n    } as IProduct;\n\n    private is_test_mode = false;\n\n    showBlinkMessage(text: string, element: Element) {\n        const style = document.createElement('style');\n        style.innerHTML = styles;\n        document.head.appendChild(style);\n\n        element.innerHTML = `\n        <div class=\"text-blink\">${text}</div>\n        `;\n    }\n\n    getProduct(product_id: string): IProduct {\n        if (product_id === this.PRODUCT_ID_BASE_PLAN.id) {\n            return this.PRODUCT_ID_BASE_PLAN;\n        }\n        if (product_id === this.PRODUCT_ID_PRO_PLAN.id) {\n            return this.PRODUCT_ID_PRO_PLAN;\n        }\n        return this.PRODUCT_ID_BASE_PLAN;\n    }\n\n    checkout(product: IProduct) {\n        window.location.href = `https://${window.location.host}/checkout?product_id=${product.id}`;\n    }\n\n    createPaymentForm(text: string) {\n        this.home_element.innerHTML = `\n\n        <div style=\"background: white; position: fixed; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; justify-content: center; align-items: center\">\n           <div class=\"payment-container\" style=\"overflow-y: auto\">\n                <h2 style=\"color: black; font-size: 2.5rem; text-align: center\">AI or Not</h2>\n                <br>\n\n           <div class=\"sr-root\" style=\"display: flex; flex-direction: row; align-items: center; justify-content: center; min-width: 380px;\">\n            <div class=\"sr-main\">\n                <h3 style=\"color: black; font-size: 2.5rem; justify-content: center\">${text}</h3>\n                <br>\n                <footer id=\"payment-form-static\">\n                <label>Card number</label>\n    \n                </form>\n                \n                <form id=\"payment-form\" style=\"min-width: 380px\">\n                    <div id=\"payment-element\">\n                    \n                        <label style=\"\" for=\"Field-numberInput\">Card number</label>\n                    \n                    </div>\n                    <br>\n                    // Add callback function\n                </form>\n                \n                    <button class=\"button\" style=\"width: 100%; visibility: hidden\" id=\"submit\">\n                        <span style=\"width: 100 %;\" id=\"button-text\">Pay</span>\n                    </button>\n                    <br>\n            </div>\n        </div>\n        </div>\n            <div id=\"progress-loader\" class=\"loader\" style=\"border: 16px solid #f3f3f3; border-top: 16px solid #adff00; border-bottom: 16px solid #adff00; border-radius: 50%;width: 120px;height: 120px;animation: spin 2s linear infinite;\"></div>\n        </div>\n    `;\n\n        const btn = document.querySelector('#submit') as Element;\n        btn.addEventListener('click', () => {\n            this.completePayment(this.PRODUCT_ID_BASE_PLAN); // !!!!!!!!!\n        });\n    }\n\n    createPaymentForm2(plan: IProduct) {\n        const cssLink = document.createElement('link');\n        cssLink.rel = 'stylesheet';\n        cssLink.href = 'https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css';\n        cssLink.type = 'text/css';\n        document.head.appendChild(cssLink);\n\n        const fontLink = document.createElement('link');\n        fontLink.rel = 'stylesheet';\n        fontLink.href = 'https://fonts.googleapis.com/css?family=Montserrat';\n        document.head.appendChild(fontLink);\n\n        const style = document.createElement('style');\n        style.innerHTML = styles;\n        document.head.appendChild(style);\n\n        (document.querySelector('#home-container') as Element).innerHTML = `\n        <main class=\"page payment-page\">\n        <section class=\"payment-form dark\">\n          <div class=\"container\">\n            <div class=\"block-heading\">\n<!--              <h2>Checkout</h2>-->\n<!--              <p>By providing your card information, you allow AIorNot Inc to charge your card for future payments in accordance with our terms.</p>-->\n            </div>\n            <form id=\"payment-form\">\n              \n              <div class=\"products\">\n                <h3 class=\"title\">Checkout</h3>\n                <div class=\"item\">\n                  <span class=\"price\">${plan.price}</span>\n                  <p class=\"item-name\">${plan.name}</p>\n                  <p class=\"price-description\">per month</p>\n                  <p class=\"item-description\">${plan.description}</p>\n                </div>\n              \n              </div>\n              <div class=\"card-details\">\n              <div id=\"payment-element\">\n                <h3 class=\"title text-blink\">Checking details and preparation of payment...</h3>\n                <div class=\"row\"></div>\n              </div>\n            <button type=\"button\" id=\"submit\" class=\"btn btn-block submit-btn\", style=\"display: flex; flex-direction: row; align-items: center; justify-content: center\">\n                \n                <span id=\"button-text\">Pay ${plan.price}</span>\n<!--                <span id=\"progress\" class=\"loader\"></span>-->\n                \n            </button>\n            </form>\n\n          </div>\n        </section>\n      </main>\n        `;\n        document.querySelector('#submit')?.addEventListener('click', () => {\n            this.completePayment(plan);\n        });\n    }\n\n    async createPaymentIntent(product: IProduct) {\n        fetch(`${BASE_URL}/aion/payments/config`)\n            .then((result) => {\n                return result.json();\n            })\n            .then((data) => {\n                // Create a Stripe client.\n                loadStripe(data.stripe_public_key).then((stripe) => {\n                    this.stripe = stripe;\n\n                    // Check mode. If `test` in the key then use test mode.\n                    this.is_test_mode = data.stripe_public_key.includes('test');\n\n                    // Client secret.\n                    fetch(`${BASE_URL}/aion/payments/create_intent`, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: `Bearer ${this.checkUserToken()}`,\n                        },\n                        body: JSON.stringify({\n                            product_id: this.is_test_mode ? product.test_id : product.id,\n                        }),\n                    })\n                        .then((result) => {\n                            return result.json();\n                        })\n                        .then((data) => {\n                            if (data.code === 10) {\n                                console.warn(data.message);\n                                alert(data.message);\n                                window.location.href = `https://${window.location.host}/`;\n                                throw new Error(data.message);\n                            }\n                            // this.createPaymentForm(product.msg);\n                            this.elements = this.stripe.elements({ clientSecret: data.client_secret });\n                            const paymentElement = this.elements.create('payment');\n                            // hide spinner\n                            document.querySelector('#progress-loader')?.classList.add('hide');\n                            // show button\n                            document.querySelector('#submit').style.visibility = 'visible';\n\n                            paymentElement.mount('#payment-element');\n                        })\n                        .catch((error) => {\n                            console.error('Something wrong when create a payment intent', error);\n                            alert('Something wrong when create a payment. Please try again.');\n                        });\n                });\n            });\n    }\n\n    private checkUserToken(): string {\n        const userAccessToken = localStorage.getItem('_ms-mid');\n        if (!userAccessToken) {\n            throw new Error('User token not found');\n        }\n\n        return userAccessToken;\n    }\n\n    async initPaymentForm(plan: IProduct) {\n        console.log('Init payment form...');\n        const stripe = await this.initStripe();\n        this.stripe = stripe;\n\n        if (!stripe) {\n            return;\n        }\n        const appearance = {\n            theme: 'flat',\n            // labels: 'floating',\n            variables: {\n                colorPrimary: '#30313d',\n                colorText: '#30313d',\n            },\n            roles: {\n                '.TermsText': {\n                    hide: true,\n                },\n            },\n        };\n        const options = {\n            // fields: {\n            //     billingDetails: 'never',\n            // },\n        };\n        const loader = 'auto';\n\n        const clientSecret = await this.getClientSecret(plan);\n\n        const elements = stripe.elements({ clientSecret, appearance, loader });\n        this.elements = elements;\n        const paymentElement = elements.create('payment', options).mount('#payment-element');\n    }\n\n    async getClientSecret(product: IProduct) {\n        return fetch(`${BASE_URL}/aion/payments/create_intent`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${this.checkUserToken()}`,\n            },\n            body: JSON.stringify({\n                product_id: this.is_test_mode ? product.test_id : product.id,\n            }),\n        })\n            .then((result) => {\n                return result.json();\n            })\n            .then((data) => {\n                if (data.code === 10) {\n                    console.warn(data.message);\n                    alert(data.message);\n                    window.location.href = `https://${window.location.host}/`;\n                    throw new Error(data.message);\n                }\n                return data.client_secret;\n            });\n    }\n\n    private initStripe() {\n        console.log('Init stripe...');\n        return fetch(`${BASE_URL}/aion/payments/config`)\n            .then((result) => {\n                return result.json();\n            })\n            .then((data) => {\n                this.is_test_mode = data.stripe_public_key.includes('test');\n                return loadStripe(data.stripe_public_key).then((stripe) => {\n                    return stripe;\n                });\n            })\n            .catch((error) => {\n                console.error('Something wrong when init stripe', error);\n            });\n    }\n\n    async completePayment(plan: IProduct) {\n        console.log('Complete payment...');\n        const element = document.querySelector('#submit') as Element;\n\n        if (element.innerHTML.includes('Payments attempt')) {\n            window.location.href = `https://${window.location.host}/#plans`;\n            return;\n        }\n        const prev_value = element.innerHTML;\n\n        let result = null;\n        let msg = null;\n\n        for (let i = 1; i <= 5; i++) {\n            this.showBlinkMessage(`Payments attempt ${i}...`, element);\n\n            result = await this.stripe\n                .confirmPayment({\n                    elements: this.elements,\n                    confirmParams: {\n                        return_url: `https://${window.location.host}/dashboard/settings?payment_success=${plan.name}`,\n                    },\n                })\n                .then((result: any) => {\n                    if (result.error) {\n                        msg = result.error.message;\n                        return 'error';\n                    }\n                    console.log(result);\n                    return 'success';\n                });\n            element.innerHTML = prev_value;\n\n            console.log('result: ', result);\n\n            if (result === 'false') {\n                break;\n            }\n\n            if (result === 'success') {\n                break;\n            }\n        }\n        console.log(result, msg);\n\n        if (result === 'error') {\n            alert(msg);\n        }\n    }\n\n    async cancelSubscription() {\n        fetch(`${BASE_URL}/aion/payments/cancel_subscription`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${this.checkUserToken()}`,\n            },\n        })\n            .then((result) => {\n                return result.json();\n            })\n            .catch((error) => {\n                console.error('Something wrong when create a checkout session', error);\n            });\n    }\n\n    async getSubscriptionInfo() {\n        try {\n            const response = await fetch(`${BASE_URL}/aion/payments/subscription`, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${this.checkUserToken()}`,\n                },\n            });\n\n            return await this.handleResponse(response);\n        } catch (error) {\n            return null;\n        }\n    }\n\n    private async handleResponse(response: Response): Promise<any> {\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw { status: response.status, message: errorData };\n        }\n        if (response.status !== 204) {\n            const data = await response.json();\n            return data;\n        }\n    }\n\n    private isValidCreditCardNumber(cardNumber: string): boolean {\n        cardNumber = cardNumber.replace(/\\s/g, '').split('').reverse().join('');\n        if (!/^[0-9]{13,19}$/.test(cardNumber)) {\n            return false;\n        }\n        let sum = 0;\n        for (let i = 0; i < cardNumber.length; i++) {\n            let digit = parseInt(cardNumber[i]);\n            if (i % 2 === 1) {\n                digit *= 2;\n                if (digit > 9) {\n                    digit -= 9;\n                }\n            }\n\n            sum += digit;\n        }\n        return sum % 10 === 0;\n    }\n}\n", "import { PaymentsClient } from '@/api/Payments';\n\nexport const initPay = () => {\n    console.log('Checkout...');\n    const paymentClient = new PaymentsClient();\n\n    // Get product from url\n    const urlParams = new URLSearchParams(window.location.search);\n    const product_id = urlParams.get('product_id');\n    if (product_id === null) {\n        console.log('No product id');\n        return;\n    }\n\n    const product = paymentClient.getProduct(product_id);\n\n    // Create payment form\n    paymentClient.createPaymentForm2(product);\n    paymentClient.initPaymentForm(product);\n};\n\nexport const plansInit = () => {\n    const paymentClient = new PaymentsClient();\n\n    // Elements\n    const buttonPayFreePlan = document.querySelector('#bt-pay-free') as Element;\n    const buttonPayBasePlan = document.querySelector('#bt-pay-basic') as Element;\n    const buttonPayProPlan = document.querySelector('#bt-pay-pro') as Element;\n    const buttonPayEnterpricePlan = document.querySelector('#bt-pay-enterprice') as Element;\n\n    // Payment buttons\n    buttonPayFreePlan?.addEventListener('click', () => {\n        if (localStorage.getItem('_ms-mid')) {\n            window.location.href = `https://${window.location.host}/`;\n        } else {\n            window.location.href = `https://${window.location.host}/signup`;\n        }\n    });\n\n    buttonPayBasePlan?.addEventListener('click', () => {\n        // Check if user is signed in.\n        if (!localStorage.getItem('_ms-mid')) {\n            window.location.href = `https://${window.location.host}/signup`;\n            return;\n        }\n        paymentClient.checkout(paymentClient.PRODUCT_ID_BASE_PLAN);\n    });\n\n    buttonPayProPlan?.addEventListener('click', () => {\n        if (!localStorage.getItem('_ms-mid')) {\n            window.location.href = `https://${window.location.host}/signup`;\n            return;\n        }\n        paymentClient.checkout(paymentClient.PRODUCT_ID_PRO_PLAN);\n\n        // paymentClient.createPaymentForm(paymentClient.PRODUCT_ID_PRO_PLAN.msg);\n        // DashboardService.fetchSubscriptionData().then((user_plan) => {\n        //     if (user_plan?.plan) {\n        //         window.location.href = `https://${window.location.host}/`;\n        //         alert('You already have a subscription !!!');\n        //     } else {\n        //         paymentClient.createPaymentIntent(paymentClient.PRODUCT_ID_PRO_PLAN);\n        //     }\n        // });\n    });\n\n    buttonPayEnterpricePlan?.addEventListener('click', () => {\n        window.location.href = `https://${window.location.host}/contact-us`;\n    });\n};\n", "import { initPay } from '@/dashboard/Payments';\n\ninitPay();\n"],
  "mappings": "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",
  "names": ["findScript", "injectScript", "registerWrapper", "loadScript", "initStripe", "loadStripe", "data", "result"]
}
